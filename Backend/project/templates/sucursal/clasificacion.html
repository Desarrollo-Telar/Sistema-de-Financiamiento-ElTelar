{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>INVERSIONES INTEGRALES EL TELAR S.A. | Selecciona tu Sucursal</title>
    <link rel="icon" href="{% static 'img/logo_icon.jpeg' %}" />
    <link rel="stylesheet" href="{% static 'css/sucursal/clasificacion.css' %}">
</head>

<body>
    <div class="container">
        <h1>üè¢ Nuestras Sucursales</h1>
        <p class="subtitle">Selecciona la sucursal m√°s cercana a ti</p>

        <div class="sucursales-grid" id="sucursalesGrid">
            {% for sucursal in sucursales %}
            <div class="sucursal-card" onclick="seleccionarSucursal('{{ sucursal.id }}')">
                <div class="sucursal-content">
                    <h2>{{ sucursal.nombre }}</h2>
                    <div class="sucursal-info">
                        {% for direccion in direccion_sucursal %}
                        {% if direccion.subsidiary == sucursal %}
                        <div class="info-item">
                            <span class="icon">üìç</span>
                            <span class="text-uppercase">{{direccion.street}}, ZONA {{direccion.number}},
                                {{direccion.state}}, {{direccion.city}}</span>

                        </div>
                        {% endif %}
                        {% endfor %}
                        {% if sucursal.numero_telefono is not None or sucursal.otro_numero_telefono is not None %}  
                        <div class="info-item">
                            <span class="icon">üìû</span>
                            {% if sucursal.numero_telefono is not None %}
                            <span>{{sucursal.numero_telefono}} </span>
                            {% endif%}
                            {% if sucursal.otro_numero_telefono is not None %}
                            <span>{{sucursal.otro_numero_telefono}} </span>
                            {% endif%}
                        </div>
                        {% endif %}
                        <div class="info-item">
                            <span class="icon">üìú</span>
                            <span>{{sucursal.codigo_establecimiento}}</span>
                        </div>

                    </div>







                </div>
            </div>
            {% endfor %}
        </div>


    </div>

    <script>
        let sucursalSeleccionada = null;

        // Seleccionar sucursal
        function seleccionarSucursal(id) {
            const cards = document.querySelectorAll('.sucursal-card');
            cards.forEach(card => card.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            irASucursal(id);
        }



        // Redirigir a la sucursal
        function irASucursal(id) {
            window.location.href = `/sucursal/seleccionado/${id}/`;

        }
    </script>
</body>

</html>